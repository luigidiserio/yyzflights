<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YYZ Flights | Toronto's Premier Flight Booking Platform</title>
    <meta name="description" content="YYZ Flights - Toronto's Premier Flight Booking Platform. Find the best deals on flights departing from Toronto Pearson International Airport (YYZ) with our TravelPayouts integration." />
    <meta name="keywords" content="YYZ flights, Toronto flights, flight booking, TravelPayouts, Canada travel, Toronto Pearson airport" />
    <meta property="og:title" content="YYZ Flights - Toronto's Premier Flight Booking" />
    <meta property="og:description" content="Find the best flight deals from Toronto (YYZ) to destinations worldwide. Proudly Canadian flight booking platform." />
    <meta property="og:type" content="website" />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>✈</text></svg>" />
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- TravelPayouts Tracking Script -->
    <script async src="https://tpwdg.com/content?currency=usd&trs=46890&shmarker=48749&show_hotels=false&powered_by=false&locale=en&searchUrl=search.yyzflights.com%2Fflights&primary_override=%2332a8dd&color_button=%2332a8dd&color_icons=%2332a8dd&dark=%23262626&light=%23FFFFFF&secondary=%23FFFFFF&special=%23C4C4C4&color_focused=%2332a8dd&border_radius=0&no_labels=true&plain=true&origin=YYZ&destination=MCO&promo_id=7879&campaign_id=100" charset="utf-8"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            background: linear-gradient(135deg, #f0f9ff 0%, #ffffff 50%, #fef2f2 100%);
            min-height: 100vh;
            line-height: 1.6;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }
        
        /* Header */
        .header {
            background: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border-bottom: 2px solid #dc2626;
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .logo-icon {
            width: 2.5rem;
            height: 2.5rem;
            background: linear-gradient(135deg, #dc2626, #2563eb);
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
        }
        
        .logo-text h1 {
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(135deg, #dc2626, #2563eb, #dc2626);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 0;
        }
        
        .logo-text p {
            font-size: 0.875rem;
            color: #6b7280;
            margin: 0;
        }
        
        .header-badges {
            display: none;
            gap: 1.5rem;
            align-items: center;
        }
        
        .badge {
            display: inline-flex;
            align-items: center;
            border: 1px solid #dc2626;
            color: #dc2626;
            padding: 0.25rem 0.625rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        /* Hero */
        .hero {
            position: relative;
            height: 24rem;
            background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('https://images.unsplash.com/photo-1559869824-929df9dab35e?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1ODB8MHwxfHNlYXJjaHwyfHxUb3JvbnRvJTIwc2t5bGluZXxlbnwwfHx8fDE3NTkxNTY4MDJ8MA&ixlib=rb-4.1.0&q=85');
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
        }
        
        .hero h2 {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }
        
        .hero p {
            font-size: 1.25rem;
            margin-bottom: 1.5rem;
        }
        
        .hero-location {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            justify-content: center;
            font-size: 1.125rem;
        }
        
        /* Card */
        .card {
            background: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-top: 4px solid #dc2626;
            margin-bottom: 3rem;
        }
        
        .card-content {
            padding: 1.5rem;
        }
        
        .card-title {
            display: flex;
            align-items: center;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            gap: 0.5rem;
        }
        
        .card-title .icon {
            color: #dc2626;
        }
        
        .card-description {
            color: #6b7280;
            margin-bottom: 1.5rem;
        }
        
        /* Form */
        .form-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .form-group label {
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        .form-input {
            height: 2.25rem;
            width: 100%;
            border-radius: 0.375rem;
            border: 1px solid #d1d5db;
            padding: 0 0.75rem;
            font-size: 0.875rem;
            transition: border-color 0.2s;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 1px #2563eb;
        }
        
        .input-with-icon {
            position: relative;
        }
        
        .input-with-icon input {
            padding-left: 2.5rem;
        }
        
        .input-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: #9ca3af;
            font-size: 1rem;
        }
        
        .popular-codes {
            display: flex;
            flex-wrap: wrap;
            gap: 0.25rem;
            margin-top: 0.5rem;
            align-items: center;
        }
        
        .popular-codes span {
            font-size: 0.75rem;
            color: #6b7280;
        }
        
        .code-btn {
            font-size: 0.75rem;
            background: #dbeafe;
            color: #1d4ed8;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            border: none;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .code-btn:hover {
            background: #bfdbfe;
        }
        
        /* Button */
        .btn-primary {
            width: 100%;
            background: linear-gradient(135deg, #dc2626, #2563eb);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            font-size: 1.125rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #b91c1c, #1d4ed8);
            transform: translateY(-1px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #dc2626, #2563eb);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background: linear-gradient(135deg, #b91c1c, #1d4ed8);
            transform: translateY(-1px);
        }
        
        /* Destinations Grid */
        .destinations-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
        
        .destination-card {
            background: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .destination-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        }
        
        .destination-image {
            height: 12rem;
            background-size: cover;
            background-position: center;
        }
        
        .destination-info {
            padding: 1rem;
        }
        
        .destination-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 0.5rem;
        }
        
        .destination-name h4 {
            font-size: 1.125rem;
            font-weight: bold;
            margin: 0;
        }
        
        .destination-name p {
            font-size: 0.875rem;
            color: #6b7280;
            margin: 0;
        }
        
        .destination-price {
            text-align: right;
        }
        
        .destination-price p:first-child {
            font-size: 1.25rem;
            font-weight: bold;
            color: #2563eb;
            margin: 0;
        }
        
        .destination-price p:last-child {
            font-size: 0.875rem;
            color: #6b7280;
            margin: 0;
        }
        
        .destination-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 0.75rem;
            border-top: 1px solid #e5e7eb;
        }
        
        /* Section Titles */
        .section-title {
            font-size: 1.875rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, #dc2626, #2563eb);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Alternative Search */
        .alt-search {
            background: linear-gradient(135deg, #fef3c7, #fed7aa);
            border: 2px solid #f59e0b;
            border-radius: 0.75rem;
            padding: 1.5rem;
            text-align: center;
        }
        
        .alt-search h4 {
            font-size: 1.25rem;
            font-weight: bold;
            color: #374151;
            margin-bottom: 0.75rem;
        }
        
        .alt-search p {
            color: #6b7280;
            margin-bottom: 1rem;
        }
        
        .btn-alt {
            background: linear-gradient(135deg, #f59e0b, #eab308);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 0.5rem;
            font-weight: 600;
            font-size: 1.125rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-alt:hover {
            background: linear-gradient(135deg, #d97706, #ca8a04);
        }
        
        /* Footer */
        .footer {
            background: #111827;
            color: white;
            margin-top: 4rem;
            padding: 2rem 0;
        }
        
        .footer-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .footer-section h4 {
            font-weight: 600;
            margin-bottom: 1rem;
        }
        
        .footer-section p, .footer-section li {
            color: #9ca3af;
            margin: 0.5rem 0;
        }
        
        .footer-section ul {
            list-style: none;
            padding: 0;
        }
        
        .footer-bottom {
            border-top: 1px solid #374151;
            padding-top: 2rem;
            text-align: center;
            color: #9ca3af;
        }
        
        /* Responsive */
        @media (min-width: 768px) {
            .container {
                padding: 0 2rem;
            }
            
            .header-badges {
                display: flex;
            }
            
            .form-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .destinations-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .footer-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (min-width: 1024px) {
            .destinations-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .hero h2 {
                font-size: 3.75rem;
            }
        }
        
        @media (max-width: 768px) {
            .hero h2 {
                font-size: 2.5rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
        }
        
        /* Autocomplete Dropdown */
        .autocomplete-container {
            position: relative;
        }
        
        .autocomplete-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #d1d5db;
            border-top: none;
            border-radius: 0 0 0.375rem 0.375rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            z-index: 1000;
            max-height: 200px;
            overflow-y: auto;
            display: none;
        }
        
        .autocomplete-item {
            padding: 0.75rem;
            cursor: pointer;
            border-bottom: 1px solid #f3f4f6;
            transition: background-color 0.2s;
        }
        
        .autocomplete-item:hover {
            background: #f9fafb;
        }
        
        .autocomplete-item:last-child {
            border-bottom: none;
        }
        
        .city-name {
            font-weight: 500;
            color: #374151;
        }
        
        .airport-info {
            font-size: 0.75rem;
            color: #6b7280;
            margin-top: 0.25rem;
        }
    </style>
</head>
<body>
    <div class="min-h-screen">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <div class="logo-icon">✈</div>
                        <div class="logo-text">
                            <h1>YYZ Flights</h1>
                            <p>Toronto's Premier Flight Booking</p>
                        </div>
                    </div>
                    <div class="header-badges">
                        <span style="font-size: 0.875rem; color: #6b7280;">🍁 Proudly Canadian</span>
                        <span class="badge">TravelPayouts Partner</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="hero">
            <div style="padding: 0 1rem;">
                <h2>Fly from Toronto to the World</h2>
                <p>Discover amazing deals on flights departing from YYZ</p>
                <div class="hero-location">
                    <span>📍</span>
                    <span>Toronto Pearson International Airport (YYZ)</span>
                </div>
            </div>
        </section>

        <!-- Main Content -->
        <main class="container" style="padding-top: 2rem;">
            <!-- Tabs -->
            <div style="margin-bottom: 2rem;">
                <div style="display: flex; background: #f3f4f6; border-radius: 0.5rem; padding: 0.25rem; max-width: 24rem; margin: 0 auto;">
                    <button 
                        id="searchTab" 
                        onclick="switchTab('search')" 
                        class="tab-btn active-tab"
                        style="flex: 1; padding: 0.75rem; border: none; border-radius: 0.375rem; font-weight: 500; cursor: pointer; transition: all 0.3s; background: #dc2626; color: white;"
                    >
                        🔍 Search Flights
                    </button>
                    <button 
                        id="statusTab" 
                        onclick="switchTab('status')" 
                        class="tab-btn"
                        style="flex: 1; padding: 0.75rem; border: none; border-radius: 0.375rem; font-weight: 500; cursor: pointer; transition: all 0.3s; background: transparent; color: #6b7280;"
                    >
                        🕐 Flight Status
                    </button>
                </div>
            </div>

            <!-- Flight Search Section -->
            <div id="searchSection" class="card">
                <div class="card-content">
                    <div class="card-title">
                        <span class="icon">🔍</span>
                        Find Your Perfect Flight
                    </div>
                    <p class="card-description">
                        Search for flights from Toronto and get redirected to our TravelPayouts booking platform for the best deals
                    </p>
                    
                    <form id="flightSearchForm">
                        <div class="form-grid">
                            <!-- Origin -->
                            <div class="form-group">
                                <label>From</label>
                                <div class="autocomplete-container">
                                    <div class="input-with-icon">
                                        <input
                                            type="text"
                                            id="origin"
                                            placeholder="Enter departure city (e.g., Toronto, London, Paris)"
                                            class="form-input"
                                            autocomplete="off"
                                            value="Toronto"
                                        />
                                        <span class="input-icon">🛫</span>
                                    </div>
                                    <div id="originAutocompleteDropdown" class="autocomplete-dropdown"></div>
                                </div>
                            </div>

                            <!-- Destination -->
                            <div class="form-group">
                                <label>To</label>
                                <div class="autocomplete-container">
                                    <div class="input-with-icon">
                                        <input
                                            type="text"
                                            id="destination"
                                            placeholder="Enter destination city (e.g., London, LAX, Paris)"
                                            class="form-input"
                                            autocomplete="off"
                                        />
                                        <span class="input-icon">📍</span>
                                    </div>
                                    <div id="autocompleteDropdown" class="autocomplete-dropdown"></div>
                                </div>
                                <div style="font-size: 0.75rem; color: #6b7280;">
                                    <div>Type city name (London, Paris) or 3-letter airport code (LAX, JFK, LHR)</div>
                                    <div class="popular-codes">
                                        <span>Popular: </span>
                                        <button type="button" onclick="selectDestination('London', 'LHR')" class="code-btn">London</button>
                                        <button type="button" onclick="selectDestination('Paris', 'CDG')" class="code-btn">Paris</button>
                                        <button type="button" onclick="selectDestination('New York', 'JFK')" class="code-btn">New York</button>
                                        <button type="button" onclick="selectDestination('Los Angeles', 'LAX')" class="code-btn">Los Angeles</button>
                                        <button type="button" onclick="selectDestination('Tokyo', 'NRT')" class="code-btn">Tokyo</button>
                                        <button type="button" onclick="selectDestination('Vancouver', 'YVR')" class="code-btn">Vancouver</button>
                                        <button type="button" onclick="selectDestination('Dubai', 'DXB')" class="code-btn">Dubai</button>
                                        <button type="button" onclick="selectDestination('Rome', 'FCO')" class="code-btn">Rome</button>
                                    </div>
                                </div>
                            </div>

                            <!-- Departure Date -->
                            <div class="form-group">
                                <label>Departure Date</label>
                                <div class="input-with-icon">
                                    <input type="date" id="departureDate" class="form-input" />
                                    <span class="input-icon">📅</span>
                                </div>
                            </div>

                            <!-- Return Date -->
                            <div class="form-group">
                                <label>Return Date (Optional)</label>
                                <div class="input-with-icon">
                                    <input type="date" id="returnDate" class="form-input" />
                                    <span class="input-icon">📅</span>
                                </div>
                            </div>

                            <!-- Adults -->
                            <div class="form-group">
                                <label>Adults</label>
                                <select id="adults" class="form-input">
                                    <option value="1">1 Adult</option>
                                    <option value="2">2 Adults</option>
                                    <option value="3">3 Adults</option>
                                    <option value="4">4 Adults</option>
                                </select>
                            </div>

                            <!-- Children -->
                            <div class="form-group">
                                <label>Children</label>
                                <select id="children" class="form-input">
                                    <option value="0">0 Children</option>
                                    <option value="1">1 Child</option>
                                    <option value="2">2 Children</option>
                                    <option value="3">3 Children</option>
                                </select>
                            </div>
                        </div>

                        <button type="submit" class="btn-primary">
                            <span>✈️</span>
                            SEARCH YYZFLIGHTS!
                        </button>
                    </form>
                </div>
            </div>

            <!-- Flight Status Section -->
            <div id="statusSection" class="card" style="display: none;">
                <div class="card-content">
                    <div class="card-title">
                        <span class="icon" style="color: #2563eb;">🕐</span>
                        Check Flight Status
                    </div>
                    <p class="card-description">
                        Enter your flight number to get real-time status information
                    </p>
                    
                    <form id="flightStatusForm">
                        <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
                            <input
                                type="text"
                                id="flightNumber"
                                placeholder="Flight number (e.g., AC123, WS456)"
                                class="form-input"
                                style="flex: 1; text-transform: uppercase;"
                            />
                            <button type="submit" class="btn-secondary" style="background: #2563eb;">
                                🕐 Check Status
                            </button>
                        </div>
                        
                        <div style="font-size: 0.875rem; color: #6b7280;">
                            <p><strong>Sample flight numbers to try:</strong></p>
                            <div style="margin-top: 0.5rem;">
                                <button type="button" onclick="document.getElementById('flightNumber').value='AC123'" class="code-btn" style="margin-right: 0.5rem;">AC123</button>
                                <button type="button" onclick="document.getElementById('flightNumber').value='WS456'" class="code-btn" style="margin-right: 0.5rem;">WS456</button>
                                <button type="button" onclick="document.getElementById('flightNumber').value='TS789'" class="code-btn">TS789</button>
                            </div>
                        </div>
                    </form>
                    
                    <!-- Flight Status Results -->
                    <div id="flightStatusResult" style="display: none; margin-top: 1.5rem; padding: 1.5rem; background: #f9fafb; border-radius: 0.5rem; border: 1px solid #e5e7eb;">
                        <!-- Results will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Flight Search Map -->
            <section style="margin-top: 4rem;">
                <h3 class="section-title">🗺️ Flights Under $300 CAD from Toronto (YYZ)</h3>
                <div class="card">
                    <div class="card-content">
                        <div style="text-align: center; margin-bottom: 1.5rem;">
                            <p style="color: #6b7280; font-size: 1.125rem;">
                                Discover affordable destinations you can reach from Toronto for under $300 CAD
                            </p>
                        </div>
                        
                        <!-- Interactive Flight Map -->
                        <div style="position: relative; background: #f8fafc; border-radius: 0.5rem; padding: 2rem; margin-bottom: 1.5rem;">
                            <div style="text-align: center; margin-bottom: 2rem;">
                                <div style="display: inline-block; background: linear-gradient(135deg, #dc2626, #2563eb); color: white; padding: 0.5rem 1rem; border-radius: 50px; font-weight: 600;">
                                    ✈️ YYZ Toronto
                                </div>
                            </div>
                            
                            <!-- Flight Routes -->
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;" id="flightMapDestinations">
                                <!-- Destinations will be populated by JavaScript -->
                            </div>
                        </div>
                        
                        <div style="text-align: center;">
                            <p style="font-size: 0.875rem; color: #6b7280; margin-bottom: 1rem;">
                                * Prices shown are starting from and subject to availability
                            </p>
                            <button onclick="switchTab('search'); window.scrollTo({top: 300, behavior: 'smooth'});" class="btn-secondary">
                                🔍 Search All Destinations
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Popular Destinations -->
            <section style="margin-top: 4rem;">
                <h3 class="section-title">Popular Destinations from Toronto</h3>
                <div class="destinations-grid" id="popularDestinations">
                    <!-- Popular destinations will be populated by JavaScript -->
                </div>
            </section>

            <!-- Toronto Attractions -->
            <section style="margin-top: 4rem;">
                <h3 class="section-title">🍁 Discover Toronto Attractions</h3>
                <div class="card">
                    <div class="card-content">
                        <div style="text-align: center; margin-bottom: 1.5rem;">
                            <p style="color: #6b7280; font-size: 1.125rem;">
                                Before you fly, explore what Toronto has to offer! Book attractions and experiences.
                            </p>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-bottom: 1.5rem;">
                            <div style="text-center; padding: 1.5rem; background: #f9fafb; border-radius: 0.5rem; border: 1px solid #e5e7eb;">
                                <div style="font-size: 3rem; margin-bottom: 1rem;">🏗️</div>
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">CN Tower</div>
                                <div style="font-size: 0.875rem; color: #6b7280; margin-bottom: 1rem;">Iconic Toronto landmark with spectacular views</div>
                                <div style="font-size: 0.75rem; color: #dc2626; font-weight: 600; margin-bottom: 1rem;">From $40 CAD</div>
                                <button onclick="window.open('https://search.yyzflights.com/?marker=48749&attraction=cn-tower', '_blank')" style="background: #dc2626; color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.375rem; font-size: 0.875rem; cursor: pointer;">Book Now</button>
                            </div>
                            
                            <div style="text-center; padding: 1.5rem; background: #f9fafb; border-radius: 0.5rem; border: 1px solid #e5e7eb;">
                                <div style="font-size: 3rem; margin-bottom: 1rem;">🏰</div>
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">Casa Loma</div>
                                <div style="font-size: 0.875rem; color: #6b7280; margin-bottom: 1rem;">Majestic castle in the heart of Toronto</div>
                                <div style="font-size: 0.75rem; color: #dc2626; font-weight: 600; margin-bottom: 1rem;">From $35 CAD</div>
                                <button onclick="window.open('https://search.yyzflights.com/?marker=48749&attraction=casa-loma', '_blank')" style="background: #dc2626; color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.375rem; font-size: 0.875rem; cursor: pointer;">Book Now</button>
                            </div>
                            
                            <div style="text-center; padding: 1.5rem; background: #f9fafb; border-radius: 0.5rem; border: 1px solid #e5e7eb;">
                                <div style="font-size: 3rem; margin-bottom: 1rem;">🏛️</div>
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">Royal Ontario Museum</div>
                                <div style="font-size: 0.875rem; color: #6b7280; margin-bottom: 1rem;">World-class museum with diverse collections</div>
                                <div style="font-size: 0.75rem; color: #dc2626; font-weight: 600; margin-bottom: 1rem;">From $28 CAD</div>
                                <button onclick="window.open('https://search.yyzflights.com/?marker=48749&attraction=rom', '_blank')" style="background: #dc2626; color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.375rem; font-size: 0.875rem; cursor: pointer;">Book Now</button>
                            </div>
                            
                            <div style="text-center; padding: 1.5rem; background: #f9fafb; border-radius: 0.5rem; border: 1px solid #e5e7eb;">
                                <div style="font-size: 3rem; margin-bottom: 1rem;">🐠</div>
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">Ripley's Aquarium</div>
                                <div style="font-size: 0.875rem; color: #6b7280; margin-bottom: 1rem;">Underwater adventure in downtown Toronto</div>
                                <div style="font-size: 0.75rem; color: #dc2626; font-weight: 600; margin-bottom: 1rem;">From $45 CAD</div>
                                <button onclick="window.open('https://search.yyzflights.com/?marker=48749&attraction=aquarium', '_blank')" style="background: #dc2626; color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.375rem; font-size: 0.875rem; cursor: pointer;">Book Now</button>
                            </div>
                        </div>
                        
                        <div style="text-align: center;">
                            <button onclick="window.open('https://search.yyzflights.com/?marker=48749&category=attractions', '_blank')" class="btn-secondary">
                                🎭 View All Toronto Attractions
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Alternative Search -->
            <section style="margin-top: 3rem; margin-bottom: 2rem;">
                <div style="text-align: center; margin-bottom: 1.5rem;">
                    <div style="height: 1px; background: #d1d5db; margin: 2rem 0;"></div>
                    <div class="alt-search">
                        <h4>😞 NOT HAPPY WITH RESULTS?</h4>
                        <p>Try our alternative search partner for potentially different prices and options</p>
                        <button onclick="searchTripCom()" class="btn-alt">
                            🌟 TRY TRIP.COM - Alternative Search
                        </button>
                        <p style="font-size: 0.75rem; color: #6b7280; margin-top: 0.75rem;">
                            Different platform, potentially different deals and airlines
                        </p>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="footer-grid" style="grid-template-columns: repeat(4, 1fr);">
                    <div class="footer-section">
                        <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                            <div style="width: 2rem; height: 2rem; background: linear-gradient(135deg, #dc2626, #2563eb); border-radius: 0.5rem; display: flex; align-items: center; justify-content: center; color: white;">✈</div>
                            <span style="font-size: 1.25rem; font-weight: bold;">YYZ Flights</span>
                        </div>
                        <p>Toronto's premier flight booking platform, proudly partnered with TravelPayouts to bring you the best deals on flights departing from YYZ.</p>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Quick Links</h4>
                        <ul>
                            <li><a href="#" onclick="switchTab('search'); window.scrollTo({top: 300, behavior: 'smooth'}); return false;" style="color: #9ca3af; text-decoration: none; cursor: pointer;">Flight Search</a></li>
                            <li><a href="#" onclick="switchTab('status'); window.scrollTo({top: 300, behavior: 'smooth'}); return false;" style="color: #9ca3af; text-decoration: none; cursor: pointer;">Flight Status</a></li>
                            <li><a href="#" onclick="document.getElementById('popularDestinations').scrollIntoView({behavior: 'smooth'}); return false;" style="color: #9ca3af; text-decoration: none; cursor: pointer;">Popular Destinations</a></li>
                            <li><a href="#" onclick="searchTripCom(); return false;" style="color: #9ca3af; text-decoration: none; cursor: pointer;">Alternative Search</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-section">
                        <h4>YYZ Airport Guide</h4>
                        <ul>
                            <li><a href="#" onclick="showArticle('parking')" style="color: #9ca3af; text-decoration: none; cursor: pointer;">🚗 Parking Options at YYZ</a></li>
                            <li><a href="#" onclick="showArticle('transit')" style="color: #9ca3af; text-decoration: none; cursor: pointer;">🚊 UP Express & Transit</a></li>
                            <li><a href="#" onclick="showArticle('terminals')" style="color: #9ca3af; text-decoration: none; cursor: pointer;">🏢 Terminal Guide</a></li>
                            <li><a href="#" onclick="showArticle('services')" style="color: #9ca3af; text-decoration: none; cursor: pointer;">🛍️ Airport Services</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Toronto Travel Info</h4>
                        <ul>
                            <li><a href="#" onclick="showArticle('worldcup')" style="color: #9ca3af; text-decoration: none; cursor: pointer;">⚽ FIFA World Cup 2026</a></li>
                            <li><a href="#" onclick="showArticle('events')" style="color: #9ca3af; text-decoration: none; cursor: pointer;">🎭 Toronto Events</a></li>
                            <li><a href="#" onclick="showArticle('hotels')" style="color: #9ca3af; text-decoration: none; cursor: pointer;">🏨 Airport Hotels</a></li>
                            <li><a href="#" onclick="showArticle('weather')" style="color: #9ca3af; text-decoration: none; cursor: pointer;">🌤️ Toronto Weather</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>&copy; 2024 YYZ Flights. All rights reserved. Powered by TravelPayouts.</p>
                </div>
            </div>
        </footer>
        
        <!-- Article Modal -->
        <div id="articleModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000; padding: 2rem;">
            <div style="background: white; max-width: 800px; margin: 0 auto; border-radius: 0.75rem; padding: 2rem; max-height: 80vh; overflow-y: auto;">
                <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 1.5rem;">
                    <h2 id="articleTitle" style="font-size: 1.5rem; font-weight: bold; margin: 0; flex: 1;"></h2>
                    <button onclick="closeArticle()" style="background: #dc2626; color: white; border: none; border-radius: 50%; width: 2rem; height: 2rem; cursor: pointer;">✕</button>
                </div>
                <div id="articleContent"></div>
            </div>
        </div>
    </div>

    <script>
        // Set minimum date to today
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('departureDate').setAttribute('min', today);
        document.getElementById('returnDate').setAttribute('min', today);
        
        // Comprehensive City to Airport Code Mapping - Major International Airports
        const cityAirportMap = {
            // Toronto (Home)
            'toronto': { code: 'YYZ', name: 'Toronto', airport: 'Toronto Pearson International Airport' },
            
            // Canada Major Cities
            'montreal': { code: 'YUL', name: 'Montreal', airport: 'Pierre Elliott Trudeau International Airport' },
            'vancouver': { code: 'YVR', name: 'Vancouver', airport: 'Vancouver International Airport' },
            'calgary': { code: 'YYC', name: 'Calgary', airport: 'Calgary International Airport' },
            'edmonton': { code: 'YEG', name: 'Edmonton', airport: 'Edmonton International Airport' },
            'ottawa': { code: 'YOW', name: 'Ottawa', airport: 'Ottawa Macdonald-Cartier International Airport' },
            'halifax': { code: 'YHZ', name: 'Halifax', airport: 'Halifax Stanfield International Airport' },
            'winnipeg': { code: 'YWG', name: 'Winnipeg', airport: 'Winnipeg Richardson International Airport' },
            'saskatoon': { code: 'YXE', name: 'Saskatoon', airport: 'Saskatoon John G. Diefenbaker International Airport' },
            'regina': { code: 'YQR', name: 'Regina', airport: 'Regina International Airport' },
            'quebec city': { code: 'YQB', name: 'Quebec City', airport: 'Quebec City Jean Lesage International Airport' },
            
            // United States - Major Hubs
            'new york': { code: 'JFK', name: 'New York', airport: 'John F. Kennedy International Airport' },
            'nyc': { code: 'JFK', name: 'New York', airport: 'John F. Kennedy International Airport' },
            'newark': { code: 'EWR', name: 'Newark', airport: 'Newark Liberty International Airport' },
            'los angeles': { code: 'LAX', name: 'Los Angeles', airport: 'Los Angeles International Airport' },
            'chicago': { code: 'ORD', name: 'Chicago', airport: 'O\'Hare International Airport' },
            'miami': { code: 'MIA', name: 'Miami', airport: 'Miami International Airport' },
            'san francisco': { code: 'SFO', name: 'San Francisco', airport: 'San Francisco International Airport' },
            'seattle': { code: 'SEA', name: 'Seattle', airport: 'Seattle-Tacoma International Airport' },
            'boston': { code: 'BOS', name: 'Boston', airport: 'Logan International Airport' },
            'las vegas': { code: 'LAS', name: 'Las Vegas', airport: 'McCarran International Airport' },
            'denver': { code: 'DEN', name: 'Denver', airport: 'Denver International Airport' },
            'phoenix': { code: 'PHX', name: 'Phoenix', airport: 'Sky Harbor International Airport' },
            'atlanta': { code: 'ATL', name: 'Atlanta', airport: 'Hartsfield-Jackson International Airport' },
            'dallas': { code: 'DFW', name: 'Dallas', airport: 'Dallas/Fort Worth International Airport' },
            'houston': { code: 'IAH', name: 'Houston', airport: 'George Bush Intercontinental Airport' },
            'washington': { code: 'DCA', name: 'Washington', airport: 'Ronald Reagan Washington Airport' },
            'dulles': { code: 'IAD', name: 'Washington DC', airport: 'Washington Dulles International Airport' },
            'philadelphia': { code: 'PHL', name: 'Philadelphia', airport: 'Philadelphia International Airport' },
            'minneapolis': { code: 'MSP', name: 'Minneapolis', airport: 'Minneapolis-St. Paul International Airport' },
            'detroit': { code: 'DTW', name: 'Detroit', airport: 'Detroit Metropolitan Wayne County Airport' },
            'portland': { code: 'PDX', name: 'Portland', airport: 'Portland International Airport' },
            'orlando': { code: 'MCO', name: 'Orlando', airport: 'Orlando International Airport' },
            'tampa': { code: 'TPA', name: 'Tampa', airport: 'Tampa International Airport' },
            'nashville': { code: 'BNA', name: 'Nashville', airport: 'Nashville International Airport' },
            'fort lauderdale': { code: 'FLL', name: 'Fort Lauderdale', airport: 'Fort Lauderdale-Hollywood International Airport' },
            'baltimore': { code: 'BWI', name: 'Baltimore', airport: 'Baltimore/Washington International Airport' },
            'cleveland': { code: 'CLE', name: 'Cleveland', airport: 'Cleveland Hopkins International Airport' },
            'pittsburgh': { code: 'PIT', name: 'Pittsburgh', airport: 'Pittsburgh International Airport' },
            'charlotte': { code: 'CLT', name: 'Charlotte', airport: 'Charlotte Douglas International Airport' },
            'raleigh': { code: 'RDU', name: 'Raleigh', airport: 'Raleigh-Durham International Airport' },
            'cincinnati': { code: 'CVG', name: 'Cincinnati', airport: 'Cincinnati/Northern Kentucky International Airport' },
            'columbus': { code: 'CMH', name: 'Columbus', airport: 'John Glenn Columbus International Airport' },
            'indianapolis': { code: 'IND', name: 'Indianapolis', airport: 'Indianapolis International Airport' },
            'milwaukee': { code: 'MKE', name: 'Milwaukee', airport: 'Milwaukee Mitchell International Airport' },
            'st. louis': { code: 'STL', name: 'St. Louis', airport: 'Lambert-St. Louis International Airport' },
            'kansas city': { code: 'MCI', name: 'Kansas City', airport: 'Kansas City International Airport' },
            'buffalo': { code: 'BUF', name: 'Buffalo', airport: 'Buffalo Niagara International Airport' },
            'rochester': { code: 'ROC', name: 'Rochester', airport: 'Greater Rochester International Airport' },
            'albany': { code: 'ALB', name: 'Albany', airport: 'Albany International Airport' },
            'syracuse': { code: 'SYR', name: 'Syracuse', airport: 'Syracuse Hancock International Airport' },
            
            // United Kingdom & Ireland
            'london': { code: 'LHR', name: 'London', airport: 'Heathrow Airport' },
            'gatwick': { code: 'LGW', name: 'London Gatwick', airport: 'Gatwick Airport' },
            'stansted': { code: 'STN', name: 'London Stansted', airport: 'Stansted Airport' },
            'luton': { code: 'LTN', name: 'London Luton', airport: 'Luton Airport' },
            'manchester': { code: 'MAN', name: 'Manchester', airport: 'Manchester Airport' },
            'birmingham': { code: 'BHX', name: 'Birmingham', airport: 'Birmingham Airport' },
            'glasgow': { code: 'GLA', name: 'Glasgow', airport: 'Glasgow International Airport' },
            'edinburgh': { code: 'EDI', name: 'Edinburgh', airport: 'Edinburgh Airport' },
            'dublin': { code: 'DUB', name: 'Dublin', airport: 'Dublin Airport' },
            'cork': { code: 'ORK', name: 'Cork', airport: 'Cork Airport' },
            'belfast': { code: 'BFS', name: 'Belfast', airport: 'Belfast International Airport' },
            
            // France
            'paris': { code: 'CDG', name: 'Paris', airport: 'Charles de Gaulle Airport' },
            'orly': { code: 'ORY', name: 'Paris Orly', airport: 'Orly Airport' },
            'nice': { code: 'NCE', name: 'Nice', airport: 'Nice Côte d\'Azur Airport' },
            'lyon': { code: 'LYS', name: 'Lyon', airport: 'Lyon-Saint-Exupéry Airport' },
            'marseille': { code: 'MRS', name: 'Marseille', airport: 'Marseille Provence Airport' },
            'toulouse': { code: 'TLS', name: 'Toulouse', airport: 'Toulouse-Blagnac Airport' },
            
            // Germany
            'frankfurt': { code: 'FRA', name: 'Frankfurt', airport: 'Frankfurt Airport' },
            'munich': { code: 'MUC', name: 'Munich', airport: 'Munich Airport' },
            'berlin': { code: 'BER', name: 'Berlin', airport: 'Berlin Brandenburg Airport' },
            'hamburg': { code: 'HAM', name: 'Hamburg', airport: 'Hamburg Airport' },
            'dusseldorf': { code: 'DUS', name: 'Dusseldorf', airport: 'Dusseldorf Airport' },
            'cologne': { code: 'CGN', name: 'Cologne', airport: 'Cologne Bonn Airport' },
            'stuttgart': { code: 'STR', name: 'Stuttgart', airport: 'Stuttgart Airport' },
            
            // Netherlands
            'amsterdam': { code: 'AMS', name: 'Amsterdam', airport: 'Schiphol Airport' },
            'rotterdam': { code: 'RTM', name: 'Rotterdam', airport: 'Rotterdam The Hague Airport' },
            
            // Spain
            'madrid': { code: 'MAD', name: 'Madrid', airport: 'Barajas Airport' },
            'barcelona': { code: 'BCN', name: 'Barcelona', airport: 'El Prat Airport' },
            'seville': { code: 'SVQ', name: 'Seville', airport: 'Seville Airport' },
            'valencia': { code: 'VLC', name: 'Valencia', airport: 'Valencia Airport' },
            'bilbao': { code: 'BIO', name: 'Bilbao', airport: 'Bilbao Airport' },
            'palma': { code: 'PMI', name: 'Palma de Mallorca', airport: 'Palma de Mallorca Airport' },
            'malaga': { code: 'AGP', name: 'Malaga', airport: 'Malaga-Costa del Sol Airport' },
            
            // Italy
            'rome': { code: 'FCO', name: 'Rome', airport: 'Fiumicino Airport' },
            'ciampino': { code: 'CIA', name: 'Rome Ciampino', airport: 'Ciampino Airport' },
            'milan': { code: 'MXP', name: 'Milan', airport: 'Malpensa Airport' },
            'linate': { code: 'LIN', name: 'Milan Linate', airport: 'Linate Airport' },
            'venice': { code: 'VCE', name: 'Venice', airport: 'Venice Marco Polo Airport' },
            'florence': { code: 'FLR', name: 'Florence', airport: 'Florence Airport' },
            'naples': { code: 'NAP', name: 'Naples', airport: 'Naples International Airport' },
            'bologna': { code: 'BLQ', name: 'Bologna', airport: 'Bologna Guglielmo Marconi Airport' },
            'turin': { code: 'TRN', name: 'Turin', airport: 'Turin Airport' },
            
            // Switzerland & Austria
            'zurich': { code: 'ZUR', name: 'Zurich', airport: 'Zurich Airport' },
            'geneva': { code: 'GVA', name: 'Geneva', airport: 'Geneva Airport' },
            'basel': { code: 'BSL', name: 'Basel', airport: 'EuroAirport Basel-Mulhouse-Freiburg' },
            'vienna': { code: 'VIE', name: 'Vienna', airport: 'Vienna International Airport' },
            'salzburg': { code: 'SZG', name: 'Salzburg', airport: 'Salzburg Airport' },
            'innsbruck': { code: 'INN', name: 'Innsbruck', airport: 'Innsbruck Airport' },
            
            // Portugal
            'lisbon': { code: 'LIS', name: 'Lisbon', airport: 'Lisbon Airport' },
            'porto': { code: 'OPO', name: 'Porto', airport: 'Francisco Sá Carneiro Airport' },
            'faro': { code: 'FAO', name: 'Faro', airport: 'Faro Airport' },
            
            // Scandinavia
            'stockholm': { code: 'ARN', name: 'Stockholm', airport: 'Arlanda Airport' },
            'copenhagen': { code: 'CPH', name: 'Copenhagen', airport: 'Copenhagen Airport' },
            'oslo': { code: 'OSL', name: 'Oslo', airport: 'Oslo Airport' },
            'helsinki': { code: 'HEL', name: 'Helsinki', airport: 'Helsinki-Vantaa Airport' },
            'reykjavik': { code: 'KEF', name: 'Reykjavik', airport: 'Keflavik International Airport' },
            'gothenburg': { code: 'GOT', name: 'Gothenburg', airport: 'Gothenburg Landvetter Airport' },
            'bergen': { code: 'BGO', name: 'Bergen', airport: 'Bergen Airport' },
            'stavanger': { code: 'SVG', name: 'Stavanger', airport: 'Stavanger Airport' },
            'trondheim': { code: 'TRD', name: 'Trondheim', airport: 'Trondheim Airport' },
            
            // Eastern Europe
            'prague': { code: 'PRG', name: 'Prague', airport: 'Václav Havel Airport Prague' },
            'budapest': { code: 'BUD', name: 'Budapest', airport: 'Budapest Ferenc Liszt International Airport' },
            'warsaw': { code: 'WAW', name: 'Warsaw', airport: 'Warsaw Chopin Airport' },
            'krakow': { code: 'KRK', name: 'Krakow', airport: 'John Paul II International Airport Kraków-Balice' },
            'bucharest': { code: 'OTP', name: 'Bucharest', airport: 'Henri Coandă International Airport' },
            'sofia': { code: 'SOF', name: 'Sofia', airport: 'Sofia Airport' },
            'zagreb': { code: 'ZAG', name: 'Zagreb', airport: 'Franjo Tuđman Airport' },
            'belgrade': { code: 'BEG', name: 'Belgrade', airport: 'Belgrade Nikola Tesla Airport' },
            'ljubljana': { code: 'LJU', name: 'Ljubljana', airport: 'Ljubljana Jože Pučnik Airport' },
            
            // Turkey & Middle East
            'istanbul': { code: 'IST', name: 'Istanbul', airport: 'Istanbul Airport' },
            'sabiha gokcen': { code: 'SAW', name: 'Istanbul Sabiha Gökçen', airport: 'Sabiha Gökçen International Airport' },
            'ankara': { code: 'ESB', name: 'Ankara', airport: 'Esenboğa Airport' },
            'antalya': { code: 'AYT', name: 'Antalya', airport: 'Antalya Airport' },
            'izmir': { code: 'ADB', name: 'Izmir', airport: 'Adnan Menderes Airport' },
            'dubai': { code: 'DXB', name: 'Dubai', airport: 'Dubai International Airport' },
            'abu dhabi': { code: 'AUH', name: 'Abu Dhabi', airport: 'Abu Dhabi International Airport' },
            'doha': { code: 'DOH', name: 'Doha', airport: 'Hamad International Airport' },
            'kuwait': { code: 'KWI', name: 'Kuwait City', airport: 'Kuwait International Airport' },
            'riyadh': { code: 'RUH', name: 'Riyadh', airport: 'King Khalid International Airport' },
            'jeddah': { code: 'JED', name: 'Jeddah', airport: 'King Abdulaziz International Airport' },
            'tel aviv': { code: 'TLV', name: 'Tel Aviv', airport: 'Ben Gurion Airport' },
            'amman': { code: 'AMM', name: 'Amman', airport: 'Queen Alia International Airport' },
            'beirut': { code: 'BEY', name: 'Beirut', airport: 'Beirut–Rafic Hariri International Airport' },
            
            // Asia - East Asia
            'tokyo': { code: 'NRT', name: 'Tokyo', airport: 'Narita International Airport' },
            'haneda': { code: 'HND', name: 'Tokyo Haneda', airport: 'Haneda Airport' },
            'osaka': { code: 'KIX', name: 'Osaka', airport: 'Kansai International Airport' },
            'itami': { code: 'ITM', name: 'Osaka Itami', airport: 'Osaka International Airport' },
            'nagoya': { code: 'NGO', name: 'Nagoya', airport: 'Chubu Centrair International Airport' },
            'seoul': { code: 'ICN', name: 'Seoul', airport: 'Incheon International Airport' },
            'gimpo': { code: 'GMP', name: 'Seoul Gimpo', airport: 'Gimpo International Airport' },
            'busan': { code: 'PUS', name: 'Busan', airport: 'Gimhae International Airport' },
            'beijing': { code: 'PEK', name: 'Beijing', airport: 'Beijing Capital International Airport' },
            'daxing': { code: 'PKX', name: 'Beijing Daxing', airport: 'Beijing Daxing International Airport' },
            'shanghai': { code: 'PVG', name: 'Shanghai', airport: 'Shanghai Pudong International Airport' },
            'hongqiao': { code: 'SHA', name: 'Shanghai Hongqiao', airport: 'Shanghai Hongqiao International Airport' },
            'guangzhou': { code: 'CAN', name: 'Guangzhou', airport: 'Guangzhou Tianhe International Airport' },
            'shenzhen': { code: 'SZX', name: 'Shenzhen', airport: 'Shenzhen Bao\'an International Airport' },
            'chengdu': { code: 'CTU', name: 'Chengdu', airport: 'Chengdu Tianfu International Airport' },
            'xi\'an': { code: 'XIY', name: 'Xi\'an', airport: 'Xi\'an Xianyang International Airport' },
            'hong kong': { code: 'HKG', name: 'Hong Kong', airport: 'Hong Kong International Airport' },
            'macau': { code: 'MFM', name: 'Macau', airport: 'Macau International Airport' },
            'taipei': { code: 'TPE', name: 'Taipei', airport: 'Taiwan Taoyuan International Airport' },
            'kaohsiung': { code: 'KHH', name: 'Kaohsiung', airport: 'Kaohsiung International Airport' },
            
            // Southeast Asia
            'singapore': { code: 'SIN', name: 'Singapore', airport: 'Changi Airport' },
            'kuala lumpur': { code: 'KUL', name: 'Kuala Lumpur', airport: 'Kuala Lumpur International Airport' },
            'bangkok': { code: 'BKK', name: 'Bangkok', airport: 'Suvarnabhumi Airport' },
            'don mueang': { code: 'DMK', name: 'Bangkok Don Mueang', airport: 'Don Mueang International Airport' },
            'manila': { code: 'MNL', name: 'Manila', airport: 'Ninoy Aquino International Airport' },
            'cebu': { code: 'CEB', name: 'Cebu', airport: 'Mactan-Cebu International Airport' },
            'jakarta': { code: 'CGK', name: 'Jakarta', airport: 'Soekarno-Hatta International Airport' },
            'bali': { code: 'DPS', name: 'Denpasar (Bali)', airport: 'Ngurah Rai International Airport' },
            'ho chi minh city': { code: 'SGN', name: 'Ho Chi Minh City', airport: 'Tan Son Nhat International Airport' },
            'hanoi': { code: 'HAN', name: 'Hanoi', airport: 'Noi Bai International Airport' },
            'phnom penh': { code: 'PNH', name: 'Phnom Penh', airport: 'Phnom Penh International Airport' },
            'siem reap': { code: 'REP', name: 'Siem Reap', airport: 'Siem Reap International Airport' },
            'yangon': { code: 'RGN', name: 'Yangon', airport: 'Yangon International Airport' },
            'vientiane': { code: 'VTE', name: 'Vientiane', airport: 'Wattay International Airport' },
            
            // South Asia
            'delhi': { code: 'DEL', name: 'New Delhi', airport: 'Indira Gandhi International Airport' },
            'mumbai': { code: 'BOM', name: 'Mumbai', airport: 'Chhatrapati Shivaji Maharaj International Airport' },
            'bangalore': { code: 'BLR', name: 'Bangalore', airport: 'Kempegowda International Airport' },
            'chennai': { code: 'MAA', name: 'Chennai', airport: 'Chennai International Airport' },
            'hyderabad': { code: 'HYD', name: 'Hyderabad', airport: 'Rajiv Gandhi International Airport' },
            'kolkata': { code: 'CCU', name: 'Kolkata', airport: 'Netaji Subhas Chandra Bose International Airport' },
            'pune': { code: 'PNQ', name: 'Pune', airport: 'Pune Airport' },
            'ahmedabad': { code: 'AMD', name: 'Ahmedabad', airport: 'Sardar Vallabhbhai Patel International Airport' },
            'kochi': { code: 'COK', name: 'Kochi', airport: 'Cochin International Airport' },
            'goa': { code: 'GOI', name: 'Goa', airport: 'Goa International Airport' },
            'islamabad': { code: 'ISB', name: 'Islamabad', airport: 'Islamabad International Airport' },
            'karachi': { code: 'KHI', name: 'Karachi', airport: 'Jinnah International Airport' },
            'lahore': { code: 'LHE', name: 'Lahore', airport: 'Allama Iqbal International Airport' },
            'dhaka': { code: 'DAC', name: 'Dhaka', airport: 'Hazrat Shahjalal International Airport' },
            'colombo': { code: 'CMB', name: 'Colombo', airport: 'Bandaranaike International Airport' },
            'kathmandu': { code: 'KTM', name: 'Kathmandu', airport: 'Tribhuvan International Airport' },
            
            // Oceania
            'sydney': { code: 'SYD', name: 'Sydney', airport: 'Kingsford Smith Airport' },
            'melbourne': { code: 'MEL', name: 'Melbourne', airport: 'Melbourne Airport' },
            'brisbane': { code: 'BNE', name: 'Brisbane', airport: 'Brisbane Airport' },
            'perth': { code: 'PER', name: 'Perth', airport: 'Perth Airport' },
            'adelaide': { code: 'ADL', name: 'Adelaide', airport: 'Adelaide Airport' },
            'cairns': { code: 'CNS', name: 'Cairns', airport: 'Cairns Airport' },
            'darwin': { code: 'DRW', name: 'Darwin', airport: 'Darwin Airport' },
            'hobart': { code: 'HBA', name: 'Hobart', airport: 'Hobart Airport' },
            'auckland': { code: 'AKL', name: 'Auckland', airport: 'Auckland Airport' },
            'wellington': { code: 'WLG', name: 'Wellington', airport: 'Wellington Airport' },
            'christchurch': { code: 'CHC', name: 'Christchurch', airport: 'Christchurch Airport' },
            'queenstown': { code: 'ZQN', name: 'Queenstown', airport: 'Queenstown Airport' },
            'suva': { code: 'SUV', name: 'Suva', airport: 'Nausori Airport' },
            'nadi': { code: 'NAN', name: 'Nadi', airport: 'Nadi International Airport' },
            
            // Africa
            'cairo': { code: 'CAI', name: 'Cairo', airport: 'Cairo International Airport' },
            'johannesburg': { code: 'JNB', name: 'Johannesburg', airport: 'O.R. Tambo International Airport' },
            'cape town': { code: 'CPT', name: 'Cape Town', airport: 'Cape Town International Airport' },
            'durban': { code: 'DUR', name: 'Durban', airport: 'King Shaka International Airport' },
            'casablanca': { code: 'CMN', name: 'Casablanca', airport: 'Mohammed V International Airport' },
            'marrakech': { code: 'RAK', name: 'Marrakech', airport: 'Marrakech Menara Airport' },
            'tunis': { code: 'TUN', name: 'Tunis', airport: 'Tunis-Carthage International Airport' },
            'algiers': { code: 'ALG', name: 'Algiers', airport: 'Houari Boumediene Airport' },
            'lagos': { code: 'LOS', name: 'Lagos', airport: 'Murtala Muhammed International Airport' },
            'abuja': { code: 'ABV', name: 'Abuja', airport: 'Nnamdi Azikiwe International Airport' },
            'nairobi': { code: 'NBO', name: 'Nairobi', airport: 'Jomo Kenyatta International Airport' },
            'addis ababa': { code: 'ADD', name: 'Addis Ababa', airport: 'Addis Ababa Bole International Airport' },
            'accra': { code: 'ACC', name: 'Accra', airport: 'Kotoka International Airport' },
            'dakar': { code: 'DKR', name: 'Dakar', airport: 'Blaise Diagne International Airport' },
            'dar es salaam': { code: 'DAR', name: 'Dar es Salaam', airport: 'Julius Nyerere International Airport' },
            
            // South America
            'sao paulo': { code: 'GRU', name: 'São Paulo', airport: 'São Paulo/Guarulhos International Airport' },
            'congonhas': { code: 'CGH', name: 'São Paulo Congonhas', airport: 'Congonhas Airport' },
            'rio de janeiro': { code: 'GIG', name: 'Rio de Janeiro', airport: 'Rio de Janeiro/Galeão International Airport' },
            'santos dumont': { code: 'SDU', name: 'Rio de Janeiro Santos Dumont', airport: 'Santos Dumont Airport' },
            'brasilia': { code: 'BSB', name: 'Brasília', airport: 'Brasília International Airport' },
            'recife': { code: 'REC', name: 'Recife', airport: 'Recife/Guararapes International Airport' },
            'salvador': { code: 'SSA', name: 'Salvador', airport: 'Salvador Deputado Luís Eduardo Magalhães International Airport' },
            'fortaleza': { code: 'FOR', name: 'Fortaleza', airport: 'Pinto Martins International Airport' },
            'belo horizonte': { code: 'CNF', name: 'Belo Horizonte', airport: 'Tancredo Neves International Airport' },
            'manaus': { code: 'MAO', name: 'Manaus', airport: 'Eduardo Gomes International Airport' },
            'buenos aires': { code: 'EZE', name: 'Buenos Aires', airport: 'Ezeiza International Airport' },
            'jorge newbery': { code: 'AEP', name: 'Buenos Aires Jorge Newbery', airport: 'Jorge Newbery Airfield' },
            'cordoba': { code: 'COR', name: 'Córdoba', airport: 'Córdoba Airport' },
            'mendoza': { code: 'MDZ', name: 'Mendoza', airport: 'Governor Francisco Gabrielli International Airport' },
            'santiago': { code: 'SCL', name: 'Santiago', airport: 'Arturo Merino Benítez International Airport' },
            'lima': { code: 'LIM', name: 'Lima', airport: 'Jorge Chávez International Airport' },
            'bogota': { code: 'BOG', name: 'Bogotá', airport: 'El Dorado International Airport' },
            'medellin': { code: 'MDE', name: 'Medellín', airport: 'José María Córdova International Airport' },
            'cartagena': { code: 'CTG', name: 'Cartagena', airport: 'Rafael Núñez International Airport' },
            'caracas': { code: 'CCS', name: 'Caracas', airport: 'Simón Bolívar International Airport' },
            'quito': { code: 'UIO', name: 'Quito', airport: 'Mariscal Sucre International Airport' },
            'guayaquil': { code: 'GYE', name: 'Guayaquil', airport: 'José Joaquín de Olmedo International Airport' },
            'la paz': { code: 'LPB', name: 'La Paz', airport: 'El Alto International Airport' },
            'santa cruz': { code: 'VVI', name: 'Santa Cruz', airport: 'Viru Viru International Airport' },
            'asuncion': { code: 'ASU', name: 'Asunción', airport: 'Silvio Pettirossi International Airport' },
            'montevideo': { code: 'MVD', name: 'Montevideo', airport: 'Carrasco International Airport' }
        };

        let selectedOriginCode = 'YYZ'; // Default to Toronto
        let selectedDestinationCode = '';

        // Auto-uppercase flight number input
        document.getElementById('flightNumber').addEventListener('input', function(e) {
            e.target.value = e.target.value.toUpperCase();
        });
        
        // Origin input with autocomplete
        const originInput = document.getElementById('origin');
        const originDropdown = document.getElementById('originAutocompleteDropdown');
        
        originInput.addEventListener('input', function(e) {
            const query = e.target.value.toLowerCase().trim();
            
            if (query.length === 0) {
                originDropdown.style.display = 'none';
                selectedOriginCode = '';
                return;
            }
            
            // If it's a 3-letter code, check if it exists
            if (query.length === 3 && query.match(/^[a-z]{3}$/)) {
                selectedOriginCode = query.toUpperCase();
                originDropdown.style.display = 'none';
                return;
            }
            
            // Search for matching cities
            const matches = [];
            for (const [city, info] of Object.entries(cityAirportMap)) {
                if (city.includes(query) || info.name.toLowerCase().includes(query) || info.code.toLowerCase().includes(query)) {
                    matches.push({city, ...info});
                }
            }
            
            if (matches.length > 0) {
                originDropdown.innerHTML = '';
                matches.slice(0, 8).forEach(match => {
                    const item = document.createElement('div');
                    item.className = 'autocomplete-item';
                    item.innerHTML = `
                        <div class="city-name">${match.name}</div>
                        <div class="airport-info">${match.code} - ${match.airport}</div>
                    `;
                    item.onclick = () => selectOrigin(match.name, match.code);
                    originDropdown.appendChild(item);
                });
                originDropdown.style.display = 'block';
            } else {
                originDropdown.style.display = 'none';
            }
        });
        
        // Select origin function
        function selectOrigin(cityName, airportCode) {
            originInput.value = cityName;
            selectedOriginCode = airportCode;
            originDropdown.style.display = 'none';
        }
        
        // Destination input with autocomplete
        const destinationInput = document.getElementById('destination');
        const dropdown = document.getElementById('autocompleteDropdown');
        
        destinationInput.addEventListener('input', function(e) {
            const query = e.target.value.toLowerCase().trim();
            
            if (query.length === 0) {
                dropdown.style.display = 'none';
                selectedDestinationCode = '';
                return;
            }
            
            // Search for matching cities (no length restriction)
            const matches = [];
            for (const [city, info] of Object.entries(cityAirportMap)) {
                if (city.includes(query) || info.name.toLowerCase().includes(query) || info.code.toLowerCase().includes(query)) {
                    matches.push({city, ...info});
                }
            }
            
            if (matches.length > 0) {
                dropdown.innerHTML = '';
                matches.slice(0, 8).forEach(match => {
                    const item = document.createElement('div');
                    item.className = 'autocomplete-item';
                    item.innerHTML = `
                        <div class="city-name">${match.name}</div>
                        <div class="airport-info">${match.code} - ${match.airport}</div>
                    `;
                    item.onclick = () => selectDestination(match.name, match.code);
                    dropdown.appendChild(item);
                });
                dropdown.style.display = 'block';
            } else {
                dropdown.style.display = 'none';
            }
        });
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.autocomplete-container')) {
                dropdown.style.display = 'none';
                originDropdown.style.display = 'none';
            }
        });
        
        // Select destination function
        function selectDestination(cityName, airportCode) {
            destinationInput.value = cityName;
            selectedDestinationCode = airportCode;
            dropdown.style.display = 'none';
        }
        
        // Tab switching functionality
        function switchTab(tab) {
            const searchTab = document.getElementById('searchTab');
            const statusTab = document.getElementById('statusTab');
            const searchSection = document.getElementById('searchSection');
            const statusSection = document.getElementById('statusSection');
            
            if (tab === 'search') {
                searchTab.style.background = '#dc2626';
                searchTab.style.color = 'white';
                statusTab.style.background = 'transparent';
                statusTab.style.color = '#6b7280';
                
                searchSection.style.display = 'block';
                statusSection.style.display = 'none';
            } else {
                statusTab.style.background = '#2563eb';
                statusTab.style.color = 'white';
                searchTab.style.background = 'transparent';
                searchTab.style.color = '#6b7280';
                
                searchSection.style.display = 'none';
                statusSection.style.display = 'block';
            }
        }
        
        // Form submission with TravelPayouts tracking
        document.getElementById('flightSearchForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const originValue = originInput.value.trim();
            const destinationValue = destinationInput.value.trim();
            const departureDate = document.getElementById('departureDate').value;
            const returnDate = document.getElementById('returnDate').value;
            const adults = document.getElementById('adults').value;
            const children = document.getElementById('children').value;
            
            // Validation
            if (!originValue || !destinationValue || !departureDate) {
                alert('Please fill in all required fields');
                return;
            }
            
            // Determine origin code
            let originCode = selectedOriginCode;
            if (!originCode) {
                const lowerOrigin = originValue.toLowerCase();
                if (cityAirportMap[lowerOrigin]) {
                    originCode = cityAirportMap[lowerOrigin].code;
                } else if (originValue.length === 3 && originValue.match(/^[A-Z]{3}$/)) {
                    originCode = originValue.toUpperCase();
                } else {
                    alert('Please select an origin city from the dropdown or enter a valid 3-letter airport code');
                    return;
                }
            }
            
            // Determine destination code
            let destinationCode = selectedDestinationCode;
            if (!destinationCode) {
                const lowerQuery = destinationValue.toLowerCase();
                if (cityAirportMap[lowerQuery]) {
                    destinationCode = cityAirportMap[lowerQuery].code;
                } else if (destinationValue.length === 3 && destinationValue.match(/^[A-Z]{3}$/)) {
                    destinationCode = destinationValue.toUpperCase();
                } else {
                    alert('Please select a destination from the dropdown or enter a valid 3-letter airport code');
                    return;
                }
            }
            
            // Build TravelPayouts search URL with all tracking parameters
            const searchParams = new URLSearchParams({
                depart_date: departureDate,
                origin_iata: originCode,
                destination_iata: destinationCode,
                currency: 'usd',
                language: 'en',
                with_request: 'true',
                locale: 'en',
                // Critical TravelPayouts tracking parameters
                trs: '46890',
                shmarker: '48749',
                marker: '48749',
                promo_id: '7879',
                campaign_id: '100'
            });
            
            if (returnDate) {
                searchParams.append('return_date', returnDate);
            }
            
            // Add passenger info
            if (adults > 1) {
                searchParams.append('adults', adults);
            }
            if (children > 0) {
                searchParams.append('children', children);
            }
            
            // Use proper TravelPayouts tracked URL
            const searchUrl = `https://search.yyzflights.com/flights?${searchParams.toString()}`;
            
            console.log('TravelPayouts tracked search:', {
                origin: originCode,
                destination: destinationCode,
                departureDate: departureDate,
                returnDate: returnDate,
                adults: adults,
                children: children,
                trs: '46890',
                shmarker: '48749',
                promo_id: '7879',
                campaign_id: '100'
            });
            
            // Track the search event for analytics
            if (typeof gtag !== 'undefined') {
                gtag('event', 'flight_search', {
                    'origin': originCode,
                    'destination': destinationCode,
                    'departure_date': departureDate,
                    'return_date': returnDate || '',
                    'passengers': parseInt(adults) + parseInt(children)
                });
            }
            
            window.open(searchUrl, '_blank');
        });
        
        // Flight Status form submission
        document.getElementById('flightStatusForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const flightNumber = document.getElementById('flightNumber').value.trim().toUpperCase();
            
            if (!flightNumber) {
                alert('Please enter a flight number');
                return;
            }
            
            if (flightNumber.length < 4 || !flightNumber.match(/^[A-Z]{2}\d+$/)) {
                alert('Please enter a valid flight number (e.g., AC123, WS456)');
                return;
            }
            
            // Generate mock flight status
            const airlines = {
                'AC': 'Air Canada',
                'WS': 'WestJet', 
                'TS': 'Air Transat',
                'PD': 'Porter Airlines'
            };
            
            const airlineCode = flightNumber.substring(0, 2);
            const airlineName = airlines[airlineCode] || 'Unknown Airline';
            const statuses = ['On Time', 'Delayed', 'Boarding', 'Departed'];
            const status = statuses[Math.floor(Math.random() * statuses.length)];
            
            const now = new Date();
            const depTime = new Date(now.getTime() + Math.random() * 8 * 60 * 60 * 1000); // Random time in next 8 hours
            const arrTime = new Date(depTime.getTime() + (2 + Math.random() * 8) * 60 * 60 * 1000); // 2-10 hours later
            
            const destinations = ['LAX', 'JFK', 'LHR', 'CDG', 'FCO', 'DXB'];
            const destination = destinations[Math.floor(Math.random() * destinations.length)];
            
            const statusColor = status === 'On Time' ? '#10b981' : 
                              status === 'Delayed' ? '#f59e0b' : 
                              status === 'Boarding' ? '#3b82f6' : '#6b7280';
            
            const resultDiv = document.getElementById('flightStatusResult');
            resultDiv.innerHTML = `
                <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 1rem;">
                    <h3 style="font-size: 1.25rem; font-weight: bold; margin: 0;">Flight ${flightNumber}</h3>
                    <span style="background: ${statusColor}; color: white; padding: 0.25rem 0.75rem; border-radius: 0.375rem; font-size: 0.875rem; font-weight: 600;">${status}</span>
                </div>
                <p style="color: #6b7280; margin-bottom: 1.5rem;">${airlineName}</p>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                    <div>
                        <h4 style="font-weight: 600; margin-bottom: 0.5rem;">Departure</h4>
                        <p><strong>Airport:</strong> YYZ</p>
                        <p><strong>Scheduled:</strong> ${depTime.toLocaleTimeString('en-CA', {hour: '2-digit', minute: '2-digit'})}</p>
                        <p><strong>Date:</strong> ${depTime.toLocaleDateString('en-CA')}</p>
                        <p><strong>Terminal:</strong> ${Math.random() > 0.5 ? '1' : '3'}</p>
                        <p><strong>Gate:</strong> B${Math.floor(Math.random() * 30) + 1}</p>
                    </div>
                    <div>
                        <h4 style="font-weight: 600; margin-bottom: 0.5rem;">Arrival</h4>
                        <p><strong>Airport:</strong> ${destination}</p>
                        <p><strong>Scheduled:</strong> ${arrTime.toLocaleTimeString('en-CA', {hour: '2-digit', minute: '2-digit'})}</p>
                        <p><strong>Date:</strong> ${arrTime.toLocaleDateString('en-CA')}</p>
                    </div>
                </div>
            `;
            resultDiv.style.display = 'block';
        });
        
        // Trip.com alternative search with TravelPayouts tracking
        function searchTripCom() {
            const originValue = originInput.value.trim();
            const destinationValue = destinationInput.value.trim();
            const departureDate = document.getElementById('departureDate').value;
            const returnDate = document.getElementById('returnDate').value;
            const adults = document.getElementById('adults').value;
            const children = document.getElementById('children').value;
            
            let originCode = selectedOriginCode || 'YYZ';
            let destinationCode = selectedDestinationCode;
            
            if (originValue && !selectedOriginCode) {
                const lowerOrigin = originValue.toLowerCase();
                if (cityAirportMap[lowerOrigin]) {
                    originCode = cityAirportMap[lowerOrigin].code;
                } else if (originValue.length === 3 && originValue.match(/^[A-Z]{3}$/)) {
                    originCode = originValue.toUpperCase();
                }
            }
            
            if (destinationValue && !selectedDestinationCode) {
                const lowerQuery = destinationValue.toLowerCase();
                if (cityAirportMap[lowerQuery]) {
                    destinationCode = cityAirportMap[lowerQuery].code;
                } else if (destinationValue.length === 3 && destinationValue.match(/^[A-Z]{3}$/)) {
                    destinationCode = destinationValue.toUpperCase();
                }
            }
            
            // Include TravelPayouts tracking parameters for Trip.com
            const tripUrl = `https://www.trip.com/flights?dcity=${originCode}&acity=${destinationCode || ''}&date1=${departureDate}&date2=${returnDate}&adult=${adults}&child=${children}&marker=48749&trs=46890&promo_id=7879&campaign_id=100`;
            
            console.log('Opening Trip.com URL with TravelPayouts tracking:', tripUrl);
            
            // Track the alternative search for analytics
            if (typeof gtag !== 'undefined') {
                gtag('event', 'trip_com_search', {
                    'origin': originCode,
                    'destination': destinationCode,
                    'departure_date': departureDate,
                    'return_date': returnDate || '',
                    'passengers': parseInt(adults) + parseInt(children)
                });
            }
            
            window.open(tripUrl, '_blank');
        }
        
        // Flight map data - Top 20 destinations under $300 from YYZ
        const flightMapDestinations = [
            { code: 'YUL', city: 'Montreal', country: 'Canada', price: 180, flag: '🇨🇦' },
            { code: 'YVR', city: 'Vancouver', country: 'Canada', price: 280, flag: '🇨🇦' },
            { code: 'YYC', city: 'Calgary', country: 'Canada', price: 250, flag: '🇨🇦' },
            { code: 'YEG', city: 'Edmonton', country: 'Canada', price: 270, flag: '🇨🇦' },
            { code: 'YOW', city: 'Ottawa', country: 'Canada', price: 160, flag: '🇨🇦' },
            { code: 'BOS', city: 'Boston', country: 'USA', price: 220, flag: '🇺🇸' },
            { code: 'JFK', city: 'New York', country: 'USA', price: 240, flag: '🇺🇸' },
            { code: 'DCA', city: 'Washington', country: 'USA', price: 260, flag: '🇺🇸' },
            { code: 'ORD', city: 'Chicago', country: 'USA', price: 280, flag: '🇺🇸' },
            { code: 'DTW', city: 'Detroit', country: 'USA', price: 190, flag: '🇺🇸' },
            { code: 'MSP', city: 'Minneapolis', country: 'USA', price: 290, flag: '🇺🇸' },
            { code: 'PHL', city: 'Philadelphia', country: 'USA', price: 230, flag: '🇺🇸' },
            { code: 'BWI', city: 'Baltimore', country: 'USA', price: 250, flag: '🇺🇸' },
            { code: 'BUF', city: 'Buffalo', country: 'USA', price: 140, flag: '🇺🇸' },
            { code: 'PIT', city: 'Pittsburgh', country: 'USA', price: 210, flag: '🇺🇸' },
            { code: 'CLE', city: 'Cleveland', country: 'USA', price: 200, flag: '🇺🇸' },
            { code: 'MKE', city: 'Milwaukee', country: 'USA', price: 270, flag: '🇺🇸' },
            { code: 'STL', city: 'St. Louis', country: 'USA', price: 290, flag: '🇺🇸' },
            { code: 'IND', city: 'Indianapolis', country: 'USA', price: 260, flag: '🇺🇸' },
            { code: 'CMH', city: 'Columbus', country: 'USA', price: 240, flag: '🇺🇸' }
        ];
        
        function populateFlightMap() {
            const container = document.getElementById('flightMapDestinations');
            flightMapDestinations.forEach(dest => {
                const mapItem = document.createElement('div');
                mapItem.style.cssText = `
                    background: white;
                    border: 1px solid #e5e7eb;
                    border-radius: 0.5rem;
                    padding: 1rem;
                    text-align: center;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
                `;
                
                mapItem.innerHTML = `
                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">${dest.flag}</div>
                    <div style="font-weight: 600; font-size: 0.9rem; margin-bottom: 0.25rem;">${dest.city}</div>
                    <div style="font-size: 0.75rem; color: #6b7280; margin-bottom: 0.5rem;">${dest.code}</div>
                    <div style="font-size: 1rem; font-weight: bold; color: #dc2626;">$${dest.price}</div>
                    <div style="font-size: 0.7rem; color: #9ca3af;">CAD</div>
                `;
                
                mapItem.onmouseover = () => {
                    mapItem.style.transform = 'translateY(-4px)';
                    mapItem.style.boxShadow = '0 8px 25px rgba(0,0,0,0.15)';
                    mapItem.style.borderColor = '#dc2626';
                };
                
                mapItem.onmouseout = () => {
                    mapItem.style.transform = 'translateY(0)';
                    mapItem.style.boxShadow = '0 1px 3px rgba(0,0,0,0.1)';
                    mapItem.style.borderColor = '#e5e7eb';
                };
                
                mapItem.onclick = () => {
                    selectDestination(dest.city, dest.code);
                    window.scrollTo({top: 0, behavior: 'smooth'});
                };
                
                container.appendChild(mapItem);
            });
        }
        
        // Article system
        const articles = {
            parking: {
                title: "🚗 Parking Options at Toronto Pearson (YYZ)",
                content: `
                    <h3>Terminal 1 Parking</h3>
                    <ul>
                        <li><strong>Valet Parking:</strong> $45/day - Most convenient option</li>
                        <li><strong>Express Parking:</strong> $35/day - Covered parking close to terminal</li>
                        <li><strong>Value Parking:</strong> $25/day - Short shuttle ride to terminal</li>
                    </ul>
                    
                    <h3>Terminal 3 Parking</h3>
                    <ul>
                        <li><strong>Premium Parking:</strong> $42/day - Closest to terminal</li>
                        <li><strong>Express Parking:</strong> $32/day - Covered parking</li>
                        <li><strong>Value Parking:</strong> $22/day - Economy option with shuttle</li>
                    </ul>
                    
                    <h3>Money-Saving Tips</h3>
                    <ul>
                        <li>Book online in advance for discounts up to 20%</li>
                        <li>Consider off-site parking for rates as low as $8/day</li>
                        <li>Park & Fly hotel packages include free parking</li>
                        <li>Use the YYZ app for real-time parking availability</li>
                    </ul>
                `
            },
            transit: {
                title: "🚊 UP Express & Transit Options to YYZ",
                content: `
                    <h3>UP Express (Recommended)</h3>
                    <ul>
                        <li><strong>Route:</strong> Pearson ↔ Bloor ↔ Dundas West ↔ Weston ↔ Union Station</li>
                        <li><strong>Frequency:</strong> Every 15 minutes</li>
                        <li><strong>Travel Time:</strong> 25 minutes from Union Station</li>
                        <li><strong>Cost:</strong> $12.35 from Union Station</li>
                        <li><strong>Hours:</strong> 5:30 AM - 1:00 AM daily</li>
                    </ul>
                    
                    <h3>TTC Bus Routes</h3>
                    <ul>
                        <li><strong>900 Airport Rocket:</strong> Express service from Kipling Station</li>
                        <li><strong>300A Bloor-Danforth Night Bus:</strong> Late night service</li>
                        <li><strong>52 Lawrence West:</strong> Connects to Lawrence West Station</li>
                    </ul>
                    
                    <h3>Other Options</h3>
                    <ul>
                        <li><strong>Taxi:</strong> $50-70 from downtown (45-60 mins)</li>
                        <li><strong>Uber/Lyft:</strong> $35-55 from downtown</li>
                        <li><strong>GO Transit:</strong> Available from Malton GO with shuttle</li>
                        <li><strong>Hotel Shuttles:</strong> Many airport hotels offer free shuttles</li>
                    </ul>
                `
            },
            terminals: {
                title: "🏢 YYZ Terminal Guide",
                content: `
                    <h3>Terminal 1</h3>
                    <ul>
                        <li><strong>Airlines:</strong> Air Canada, Lufthansa, Swiss, Austrian, Brussels Airlines, and Star Alliance partners</li>
                        <li><strong>Gates:</strong> A, B, C, D, E, F</li>
                        <li><strong>Features:</strong> Maple Leaf Lounges, extensive dining, duty-free shopping</li>
                        <li><strong>Security:</strong> NEXUS lanes available</li>
                    </ul>
                    
                    <h3>Terminal 3</h3>
                    <ul>
                        <li><strong>Airlines:</strong> WestJet, American Airlines, Delta, British Airways, Air France, and most international carriers</li>
                        <li><strong>Gates:</strong> A, B, C, D</li>
                        <li><strong>Features:</strong> Plaza Premium Lounges, Tim Hortons, Hudson News</li>
                        <li><strong>Amenities:</strong> Sleep pods, charging stations, free WiFi</li>
                    </ul>
                    
                    <h3>Inter-Terminal Transportation</h3>
                    <ul>
                        <li><strong>LINK Train:</strong> Free automated train connecting terminals (3-5 minutes)</li>
                        <li><strong>Walking:</strong> 10-15 minute walk via covered walkway</li>
                        <li><strong>Shuttle Bus:</strong> Available during LINK train maintenance</li>
                    </ul>
                `
            },
            services: {
                title: "🛍️ YYZ Airport Services & Amenities",
                content: `
                    <h3>Dining Options</h3>
                    <ul>
                        <li><strong>Terminal 1:</strong> Seasons, Face2Face Noodles, Mill Street Brew Pub</li>
                        <li><strong>Terminal 3:</strong> Fionn MacCool's, Paramount Fine Foods, Freshii</li>
                        <li><strong>Quick Bites:</strong> Tim Hortons, Starbucks, McDonald's</li>
                    </ul>
                    
                    <h3>Shopping</h3>
                    <ul>
                        <li><strong>Duty-Free:</strong> Liquor, tobacco, perfumes, chocolates</li>
                        <li><strong>Fashion:</strong> Roots, Hudson's Bay, Victoria's Secret</li>
                        <li><strong>Electronics:</strong> Best Buy Express, InMotion Entertainment</li>
                        <li><strong>Souvenirs:</strong> Canadian-themed gifts and maple syrup</li>
                    </ul>
                    
                    <h3>Services</h3>
                    <ul>
                        <li><strong>Currency Exchange:</strong> Multiple ICE locations</li>
                        <li><strong>Banking:</strong> BMO and RBC ATMs</li>
                        <li><strong>Car Rental:</strong> All major companies on-site</li>
                        <li><strong>Baggage:</strong> Storage and wrapping services</li>
                        <li><strong>WiFi:</strong> Free unlimited WiFi throughout</li>
                    </ul>
                `
            },
            worldcup: {
                title: "⚽ FIFA World Cup 2026 in Toronto",
                content: `
                    <h3>Toronto as a Host City</h3>
                    <p>Toronto is one of the 16 host cities for the <strong>FIFA World Cup 2026</strong>, co-hosted by Canada, USA, and Mexico. Matches will be played at BMO Field.</p>
                    
                    <h3>Flight Planning Tips</h3>
                    <ul>
                        <li><strong>Book Early:</strong> Flights will be in high demand during match days</li>
                        <li><strong>Peak Dates:</strong> June 11 - July 19, 2026</li>
                        <li><strong>Alternative Airports:</strong> Consider flying into Buffalo or Hamilton</li>
                        <li><strong>Extended Stay:</strong> Explore other Canadian cities while you're here</li>
                    </ul>
                    
                    <h3>Getting Around During World Cup</h3>
                    <ul>
                        <li><strong>Public Transit:</strong> Enhanced GO Transit and TTC services</li>
                        <li><strong>Traffic:</strong> Expect heavy congestion, allow extra time</li>
                        <li><strong>Airport Shuttles:</strong> Special World Cup shuttle services planned</li>
                        <li><strong>Accommodation:</strong> Book hotels near airport for convenience</li>
                    </ul>
                    
                    <h3>Match Schedule</h3>
                    <p>BMO Field will host 6 matches including group stage games and knockout rounds. Check FIFA's official schedule for specific dates and teams.</p>
                `
            },
            events: {
                title: "🎭 Toronto Events & Festivals",
                content: `
                    <h3>Annual Festivals</h3>
                    <ul>
                        <li><strong>Toronto International Film Festival (TIFF):</strong> September</li>
                        <li><strong>Canadian National Exhibition (CNE):</strong> August-September</li>
                        <li><strong>Pride Toronto:</strong> June</li>
                        <li><strong>Caribana Festival:</strong> July-August</li>
                        <li><strong>Winter Festival of Lights:</strong> November-February</li>
                    </ul>
                    
                    <h3>Sports Events</h3>
                    <ul>
                        <li><strong>Toronto Maple Leafs (NHL):</strong> October-April at Scotiabank Arena</li>
                        <li><strong>Toronto Raptors (NBA):</strong> October-April at Scotiabank Arena</li>
                        <li><strong>Toronto Blue Jays (MLB):</strong> April-October at Rogers Centre</li>
                        <li><strong>Toronto FC (MLS):</strong> March-November at BMO Field</li>
                    </ul>
                    
                    <h3>Cultural Events</h3>
                    <ul>
                        <li><strong>Luminato Festival:</strong> Arts and culture in June</li>
                        <li><strong>Hot Docs:</strong> Documentary film festival in April-May</li>
                        <li><strong>Taste of the Danforth:</strong> Food festival in August</li>
                        <li><strong>Royal Winter Fair:</strong> Agricultural show in November</li>
                    </ul>
                `
            },
            hotels: {
                title: "🏨 Toronto Airport Hotels",
                content: `
                    <h3>On-Airport Hotels</h3>
                    <ul>
                        <li><strong>Sheraton Gateway Hotel:</strong> Connected to Terminal 3 via walkway</li>
                        <li><strong>Alt Hotel Toronto Airport:</strong> Modern design, Terminal 3 shuttle</li>
                    </ul>
                    
                    <h3>Near Airport Hotels</h3>
                    <ul>
                        <li><strong>Hilton Toronto Airport:</strong> Free shuttle, 24/7 fitness center</li>
                        <li><strong>Delta Toronto Airport West:</strong> Indoor pool, restaurant</li>
                        <li><strong>Hampton Inn & Suites Toronto Airport:</strong> Free breakfast, shuttle</li>
                        <li><strong>Holiday Inn Express Toronto Airport:</strong> Budget-friendly, shuttle</li>
                    </ul>
                    
                    <h3>Hotel Amenities</h3>
                    <ul>
                        <li><strong>Free Airport Shuttles:</strong> Most hotels offer 24/7 shuttle service</li>
                        <li><strong>Park & Fly Packages:</strong> Free parking with room bookings</li>
                        <li><strong>Early Check-in:</strong> Available for flight connections</li>
                        <li><strong>Meeting Rooms:</strong> Business facilities available</li>
                    </ul>
                    
                    <h3>Booking Tips</h3>
                    <ul>
                        <li>Book directly for potential upgrades and perks</li>
                        <li>Check for airline crew rates if you're in aviation</li>
                        <li>Consider stay packages that include meals</li>
                        <li>Look for hotels with 24/7 front desk for late arrivals</li>
                    </ul>
                `
            },
            weather: {
                title: "🌤️ Toronto Weather Guide for Travelers",
                content: `
                    <h3>Seasonal Weather</h3>
                    <ul>
                        <li><strong>Spring (March-May):</strong> 5-20°C, rainy, pack layers</li>
                        <li><strong>Summer (June-August):</strong> 15-26°C, humid, thunderstorms</li>
                        <li><strong>Fall (September-November):</strong> 5-18°C, crisp, beautiful foliage</li>
                        <li><strong>Winter (December-February):</strong> -10 to 0°C, snow, very cold</li>
                    </ul>
                    
                    <h3>Flight Impact</h3>
                    <ul>
                        <li><strong>Winter Delays:</strong> Snow and ice can cause delays December-March</li>
                        <li><strong>Summer Storms:</strong> Thunderstorms may cause brief delays June-August</li>
                        <li><strong>Best Weather:</strong> May-June and September-October</li>
                        <li><strong>Airport Preparedness:</strong> YYZ handles winter weather efficiently</li>
                    </ul>
                    
                    <h3>Packing Tips</h3>
                    <ul>
                        <li><strong>Winter:</strong> Heavy coat, boots, gloves, hat essential</li>
                        <li><strong>Summer:</strong> Light layers, umbrella, comfortable shoes</li>
                        <li><strong>Spring/Fall:</strong> Waterproof jacket, layers for temperature changes</li>
                        <li><strong>Year-Round:</strong> Comfortable walking shoes for exploring the city</li>
                    </ul>
                `
            }
        };
        
        function showArticle(articleKey) {
            const modal = document.getElementById('articleModal');
            const title = document.getElementById('articleTitle');
            const content = document.getElementById('articleContent');
            
            if (articles[articleKey]) {
                title.textContent = articles[articleKey].title;
                content.innerHTML = articles[articleKey].content;
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden'; // Prevent scrolling
            }
        }
        
        function closeArticle() {
            const modal = document.getElementById('articleModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto'; // Restore scrolling
        }
        
        // Close modal when clicking outside
        document.getElementById('articleModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeArticle();
            }
        });
        
        // Populate popular destinations
        const popularDestinations = [
            { destination: "LHR", city_name: "London", country: "United Kingdom", price: 850.00, currency: "CAD", airline: "AC", image_url: "https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=400" },
            { destination: "CDG", city_name: "Paris", country: "France", price: 920.00, currency: "CAD", airline: "AC", image_url: "https://images.unsplash.com/photo-1431274172761-fca41d930114?w=400" },
            { destination: "LAX", city_name: "Los Angeles", country: "United States", price: 450.00, currency: "CAD", airline: "AC", image_url: "https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?w=400" },
            { destination: "NRT", city_name: "Tokyo", country: "Japan", price: 1200.00, currency: "CAD", airline: "AC", image_url: "https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=400" },
            { destination: "YVR", city_name: "Vancouver", country: "Canada", price: 280.00, currency: "CAD", airline: "AC", image_url: "https://images.unsplash.com/photo-1549340031-6936dac6eca2?w=400" },
            { destination: "JFK", city_name: "New York", country: "United States", price: 380.00, currency: "CAD", airline: "AC", image_url: "https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?w=400" }
        ];
        
        function populateDestinations() {
            const container = document.getElementById('popularDestinations');
            popularDestinations.forEach(destination => {
                const card = document.createElement('div');
                card.className = 'destination-card';
                card.innerHTML = `
                    <div class="destination-image" style="background-image: url('${destination.image_url}')"></div>
                    <div class="destination-info">
                        <div class="destination-header">
                            <div class="destination-name">
                                <h4>${destination.city_name}</h4>
                                <p>${destination.country}</p>
                                <p style="font-size: 0.75rem; color: #9ca3af;">(${destination.destination})</p>
                            </div>
                            <div class="destination-price">
                                <p>$${destination.price}</p>
                                <p>${destination.currency}</p>
                            </div>
                        </div>
                        <div class="destination-footer">
                            <span style="font-size: 0.75rem; border: 1px solid #d1d5db; padding: 0.25rem 0.625rem; border-radius: 0.375rem;">${destination.airline}</span>
                            <button onclick="selectDestination('${destination.city_name}', '${destination.destination}'); window.scrollTo({top: 0, behavior: 'smooth'});" style="font-size: 0.875rem; border: 1px solid #d1d5db; border-radius: 0.375rem; padding: 0.25rem 0.75rem; background: white; cursor: pointer; transition: background-color 0.2s;" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'">
                                Select Destination
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            populateDestinations();
            populateFlightMap();
        });
    </script>
</body>
</html>